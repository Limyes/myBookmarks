<!DOCTYPE html>
<html>
    <head>
        <title>个人导航</title>
        <link rel="stylesheet" href="css/style.css">
        <script src="js/main.js"></script>
    </head>
    <body>
        <header></header>
        <main>
            <div id="maincontent"></div>
        </main>
        <footer></footer>
    </body>
    <script>
    var keys={
        '0':{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p','length':10},
        '1':{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l','length':9},
        '2':{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m','length':7},
        'length':3 
    }
    var hash={
        'q':'qq.com',
        'w':'weibo.com', 
    };

    hashInlocalStorage = JSON.parse(localStorage.getItem('newhash')||'null');
    if(hashInlocalStorage){
        hash=hashInlocalStorage;
    }
    var index=0;
    while(index<keys['length']){
        div1=document.createElement('div');
        div1.className="row";
        maincontent.appendChild(div1);
        var row=keys[index];
        console.log(row);
        var index2=0;
        while(index2<row['length']){
            kbdtag=document.createElement('kbd');
            kbdtag.textContent=row[index2];
            butt=document.createElement('button');
            butt.id=row[index2];
            butt.onclick=function(butcon){
                butkey=butcon['target']['id'];
                var newweb=prompt('输入新网址');
                hash[butkey]=newweb;
                localStorage.setItem('newhash',JSON.stringify(hash));
            }
            butt.textContent="E";
            kbdtag.appendChild(butt);
            div1.appendChild(kbdtag);
            index2=index2+1;
        }
        index=index+1;
    }
    // 监听键盘事件
    document.onkeypress=function(kbjson){
        var kbcontent=kbjson['key'];
        var website=hash[kbcontent];
        window.open('https://'+website,"_blank");
    }
    </script>
</html>
